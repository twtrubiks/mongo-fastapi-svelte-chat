[pytest]
asyncio_mode = auto
addopts = -v --cov=app --cov-report=html --cov-report=term-missing
markers =
    unit: 單元測試 (快速, 使用 Mock)
    integration: 整合測試 (使用測試資料庫)
    e2e: 端到端測試 (完整流程)
    slow: 執行時間較長的測試

# 測試運行策略
# 快速測試（只運行單元測試）: pytest -m "unit"
# 完整測試（包含整合測試）: pytest -m "unit or integration"
# 忽略慢測試: pytest -m "not slow"
# 只運行慢測試: pytest -m "slow"